/*! eblib Version:1.0.0 2017-01-27 */!function(a){"use strict";a.fn.ebbind=function(b,c){var d=this[0].id,e=this[0].type,f=this;if(c=c||d,"text"===e||"password"===e)this.val(b[c]).off().on("change",function(){b[c]=f.val(),console.log("text changed "+d,b[c],b)}).on("keyup",function(){b[c]=f.val(),console.log("text keyup "+d,f,b[c],b)});else if("checkbox"===e)this.prop("checked",b[c]).off().on("click",function(){b[c]=f.prop("checked"),console.log("checkbox changed "+d,b[c],b)});else if(a("select",this).length)this.setSelectedValue(b[c]).off().on("selectmenuchange",function(){var a=parseInt(f.getSelectedValue());b[c]=a||f.getSelectedValue(),console.log("select changed "+d,b[c],b)});else if(a("input:radio",this).length)this.val(b[c]).off().on("change",function(){b[c]=f.val(),console.log("radio changed "+d,b[c],b)});else if(a("textarea",this).length){var g=a("textarea",this);g.val(b[c],this).off().on("keyup",function(){b[c]=g.val(),console.log("textarea changed "+d,b[c],b)}),this.setTextAreaCounter()}else if(a(".ebselect",this).length){var h=a("input:checkbox",this);b[c]&&b[c].forEach(function(b){_.isNumber(b)?a(h[b]).prop("checked",!0):a("#"+b.replace(/ /g,""),f).prop("checked",!0)}),h.off().on("click",function(){b[c]=f.getSelectedValuesAsString(),console.log("ebselect changed "+d,b[c],b)})}return this}}(jQuery),function(a){a.fn.ebdropdown=function(b,c,d){if(this&&this[0]){var e=this[0].id,f={id:e+"X",width:"100%",disabled:!1,jqueryui:!0,change:function(a,b){}},g=a.extend({},f,b),h="#"+g.id,i=function(b){if(b){var c=""+(b.txt||b.v||b);a(h+" option").filter(function(d,e){return b.txt?a(e).text()===b.txt:b.v?a(e).val()===b.v:a(e).text()===c||a(e).val()===c}).prop("selected","selected"),g.jqueryui&&a(h).selectmenu().selectmenu("refresh")}return this},j=function(){var b=a(h).val();return b&&"null"!==b?b:null},k=function(b){var e=_.map(c,function(a){var b="undefined"!=typeof a.txt?" value="+a.v:"",c="undefined"!=typeof a.txt?a.txt:a;return"<option"+b+">"+c+"</option>"}).join("\n"),f=_.template('<select id="<%=id%>" name="<%=id%>" size="1"><%= o %> </select>');b.html(f({id:g.id,w:g.width,o:e})),i(d),g.jqueryui?(a(h).selectmenu().selectmenu(g),g.disabled&&a(h).selectmenu("disable")):(g.disabled&&a(h).prop("disabled",!0),a(h).change(g.change).width(g.width))};return k(this),this.setSelectedValue=i,this.getSelectedValue=j,this}}}(jQuery),function(a){"use strict";a.fn.eblist=function(b,c){var d=this[0].id,e={height:Math.min(100,50*c.length),width:400},f=a.extend({},e,b);return function(a){var b=_.reduce(c,function(a,b){return a+_.template("<li><%=val%></li>")({val:b})},""),d=_.template('\n            <div class="eblist" style="height:<%=height%>px; width:<%=width%>px;">\n              <ul> <%=options%> </ul>\n            </div>\n')({options:b,width:f.width,height:f.height});a.html(d)}(this),this.id=d,this}}(jQuery),function(a){"use strict";a.fn.ebradio=function(b,c,d){var e=this[0].id;if(b){var f={vertical:!1,width:400,icon:!1},g=a.extend({},f,b);!function(a){var b=_.reduce(c,function(a,b){return a+_.template('<label><input type="radio" id="<%=val%>" name="<%=name%>"><%=val%></label><%=vertical%>')({name:e,val:b,vertical:g.vertical?"<br>":""})},""),d=_.template('            <div class="ebradio">\n              <%=options%>\n            </div>\n')({options:b});a.html(d)}(this),a("#"+e+" input").checkboxradio(g)}return this.id=e,this.val=function(b){return _.isString(b)||_.isNumber(b)?(a("#"+e+" #"+b).prop("checked",!0).checkboxradio("refresh"),this):a("#"+e+" input:radio:checked").prop("id")},this}}(jQuery),function(a){"use strict";a.fn.ebselect=function(b,c){c=c||[];var d=this[0].id,e=this,f={height:Math.min(100,50*b.values.length),width:400,values:[{v:"1",txt:"test1"},{v:"2",txt:"test2"}],onselchange:function(a){console.log("selected values:"+a.getSelectedValues())}},g=a.extend({},f,b);return this.id=d,g.values=_.map(g.values,function(a,b){return _.isString(a)?{v:b,txt:a}:a}),c.length&&(_.isNumber(c[0])?_.each(g.values,function(a){a.selected=_.indexOf(c,a.v)>=0}):_.each(g.values,function(a){a.selected=_.indexOf(c,a.txt)>=0})),function(b){var c=_.reduce(g.values,function(a,b){var c=b.selected?'checked="checked"':"";return a+_.template('               <li>                 <input type="checkbox" id="<%=id%>" value="<%=value%>" <%=isselected%> /><%=txt%>\n               </li>')({id:b.txt.replace(/ /g,""),value:b.v,isselected:c,txt:b.txt})},""),e=_.template('            <div class="ebselect" style="height:<%=height%>px; width:<%=width%>px;">\n              <ul> <%=options%> </ul>\n            </div>\n')({options:c,width:g.width,height:g.height});b.html(e),g.disabled&&a("#"+d+" input").prop("disabled",!0)}(this),this.getSelectedValues=function(){return _.pluck(a(".ebselect input:checked",e),"value")},this.getSelectedValuesAsString=function(){return _.map(this.getSelectedValues(),function(a,b){return _.findWhere(g.values,{v:parseInt(a)}).txt})},a(".ebselect input",e).on("change",function(){g.onselchange(e)}),g.onselchange(this),this}}(jQuery),function(a){"use strict";var b=function(b){var c='        <div id="<%=gridid%>configDlg">\n          <ol id="<%=gridid%>selectable" class="ebtableSelectable"> <%= list %> </ol>\n        </div>',d=a(_.template(c)({list:b.list,gridid:b.gridid})),e={open:function(){a("button:contains(Abbrechen)").text(b.cancelstring),a("ol#"+b.gridid+"selectable").sortable(),a("#"+b.gridid+"configDlg li").off("click").on("click",function(c){a("#"+b.gridid+'configDlg [id="'+c.target.id+'"]').toggleClass("invisible").toggleClass("visible")})},position:{my:"left top",at:"left bottom",of:b.anchor},width:250,modal:!0,resizable:!0,buttons:{OK:function(){b.callBack(),a(this).dialog("destroy")},Abbrechen:function(){a(this).dialog("destroy")}}};d.dialog(e).parent().find(".ui-widget-header").hide()};a.fn.ebtable=function(c,d,e){function f(b){H=Math.floor(Math.max(0,G.length-1)/E.rowsPerPage);var c=_.template("        <div class='ebtable'>\n          <div class='ctrl'>\n            <div id='ctrlLength' style='float: left;'><%= selectLen  %></div>\n            <div id='ctrlConfig' style='float: left;'><%= configBtn  %></div>\n            <div id='ctrlClearFilter' style='float: left;'><%= clearFilter  %></div>\n            <div id='ctrlPage1'  style='float: right;'><%= browseBtns %></div>\n          </div>\n          <div id='data' style='overflow-y:auto;overflow-x:auto; max-height:<%= bodyHeight %>px; width:100%'>\n            <table <%= tblClass %>>\n              <thead><tr><%= head %></tr></thead>\n              <tbody><%= data %></tbody>\n            </table>\n          </div>\n          <div class='ctrl'>\n            <div id='ctrlInfo'    style='float: left;' class='ui-widget-content'><%= info %></div>\n            <div id='ctrlAddInfo' style='float: left;' class='ui-widget-content' hidden><%= addInfo %></div>\n            <div id='ctrlPage2'   style='float: right;' ><%= browseBtns %></div>\n          </div>\n        </div>");b.html(c({head:i(),data:j(I),selectLen:k(),configBtn:g(),clearFilter:h(),browseBtns:l(),info:m(),addInfo:n(),bodyWidth:E.bodyWidth,bodyHeight:E.bodyHeight,tblClass:E.flags.colsResizable?'class="ebtablefix"':""})),y.filterData(),q(I),E.colwidths&&E.colwidths.forEach(function(b){var c=v.colIdFromName(b.name);a(B+"table th>#"+c).parent().width(b.w)})}function g(){return E.flags.config?'<button id="configBtn">'+v.translate("Anpassen")+' <span class="ui-icon ui-icon-shuffle"></button>':""}function h(){return E.flags.filter&&E.flags.clearFilter?'<button id="clearFilterBtn"><span class="ui-icon ui-icon-minus" title="'+v.translate("Alle Filter entfernen")+'"></button>':""}function i(){for(var a=E.selectionCol?'<th class="selectCol"><input id="checkAll" type="checkbox"></th>':"",b=0;b<E.columns.length;b++){var c=E.columns[E.colorder[b]];if(!c.invisible){var d="";if(E.flags.filter){var e='<input type="text" id="<%=colid%>" title="<%=tooltip%>"/>',f='<select id="<%=colid%>"><%=opts%></select>',g=(c.valuelist||[]).reduce(function(a,b){return a+"<option>"+b+"</option>"},""),h=c.valuelist?f:e;d=_.template(h)({colid:c.id,opts:g,tooltip:c.tooltip})}var i=c.css?' style="'+c.css+'"':"",j='            <th id="<%=colid%>" <%=style%> >\n              <div class="sort_wrapper">&nbsp;&nbsp;<%=colname%>&nbsp;&nbsp<span/></div>\n              <%=fld%>\n             </th>';a+=_.template(j)({colname:c.name.replace(/-/g,"&#8209;").replace(/ /g,"&#0160;"),colid:c.id,fld:d,style:i,tooltip:c.tooltip})}}return a}function j(a){if(F[0]&&F[0].length!==E.columns.length)return v.log("Definition and Data dont match!"),"";for(var b="",c=E.rowsPerPage*a,d=E.groupdefs,e=c;e<Math.min(c+E.rowsPerPage,G.length);e++){var f=G[e];if(!d||!f.isGroupElement||F.groupsdata[G[e][d.groupid]].isOpen){var g=f.isGroupElement?'class="group"':"";g=f.isGroupHeader?'class="groupheader"':g,b+="<tr>";var h=G[e].selected?' checked="checked" ':" ";if(E.selectionCol)if(E.selectionCol.render){var i="<td "+g+">"+E.selectionCol.render(F,f,h)+"</td>";b+=i.replace("input type",'input id="check'+e+'"'+h+" type")}else E.selectionCol.singleSelection?b+="<td "+g+'><input id="check'+e+'" type="radio"'+h+"/></td>":E.selectionCol.singleSelection||(b+="<td "+g+'><input id="check'+e+'" type="checkbox"'+h+"/></td>");for(var j=E.colorder,k=0;k<E.columns.length;k++){var l=E.columns[j[k]];if(!l.invisible){var m=G[e][j[k]],n=_.isNumber(m)?m:m||"",o=l.render?l.render(n,f,e,F):n,p=l.css?' style="'+l.css+'"':"";b+="<td "+g+p+">"+o+"</td>"}}b+="</tr>\n"}}return b}function k(){if(!E.flags.pagelenctrl)return"";var a=E.rowsPerPageSelectValues.reduce(function(a,b){var c=b===E.rowsPerPage?"selected":"";return a+'<option value="'+b+'" '+c+">"+b+"</option>\n"},"");return'<select id="lenctrl">\n'+a+"</select>\n"}function l(){return'<button class="firstBtn"><span class="ui-icon ui-icon-seek-first"/></button>              <button class="backBtn"><span  class="ui-icon ui-icon-seek-prev" /></button>              <button class="nextBtn"><span  class="ui-icon ui-icon-seek-next" /></button>              <button class="lastBtn"><span  class="ui-icon ui-icon-seek-end"  /></button>'}function m(){var a=Math.min(E.rowsPerPage*I+1,G.length),b=Math.min(a+E.rowsPerPage-1,G.length),c=F.length===G.length?"":_.template(v.translate("(<%=len%> Einträge insgesamt)"))({len:F.length}),d=_.template(v.translate("<%=start%> bis <%=end%> von <%=count%> Zeilen <%= filtered %>")),e=d({start:a,end:b,count:G.length,filtered:c});return e}function n(){return E.addInfo&&E.addInfo(E)||""}function o(a){13===a.which&&E.reloadData&&(v.log("reloading",a,a.which),E.reloadData(),a.preventDefault())}function p(a){return a.target.focus(),!1}function q(b,c){c&&(a(B+"thead tr").html(i()),r()),a(B+"#ctrlInfo").html(m()),a(B+"#ctrlAddInfo").html(n()),a(B+"#data tbody").html(j(b)),a(B+"#data input[type=checkbox]").off().on("change",w.selectRows),a(B+"#data input[type=radio]").off().on("change",w.selectRows),a(B+".ebtable").width(E.bodyWidth),E.selectionCol&&E.selectionCol.singleSelection&&a(B+"#checkAll").hide(),E.afterRedraw&&E.afterRedraw(a(z))}function r(){if(a(B+"thead th").off().on("click",x.sorting),a(B+"thead input[type=text]").off().on("keypress",o).on("keyup",y.filtering).on("click",p),a(B+"thead select").off().on("change",y.filtering).on("click",p),E.flags.colsResizable){var b={handles:"e",stop:function(){E.saveState(t.getStateAsJSON()),a(B).ebtable(c,d,e)}};a(B+".ebtable").resizable(b),a(B+".ebtable th").slice(E.selectionCol?1:0).resizable(b)}}function s(){a(B+"#lenctrl").selectmenu({change:function(a,b){v.log("change rowsPerPage",a,b.item.value),E.rowsPerPage=Number(b.item.value),I=0,H=Math.floor(Math.max(0,G.length-1)/E.rowsPerPage),q(I),E.saveState&&E.saveState(t.getStateAsJSON())}}),a(B+"#configBtn").button().off().on("click",function(){var f='<li id="<%=name%>" class="ui-widget-content <%=cls%>"><%=name%></li>',g=E.colorder.reduce(function(a,b){var c=E.columns[b];return a+(c.technical||c.mandatory?"":_.template(f)({name:c.name,cls:c.invisible?"invisible":"visible"}))},""),h={list:g,gridid:z,cancelstring:v.translate("Abbrechen"),anchor:"#"+z+" #configBtn",callBack:function(){a("#"+z+"configDlg li.visible").each(function(b,c){E.columns[v.colIdxFromName(a(c).prop("id"))].invisible=!1}),a("#"+z+"configDlg li.invisible").each(function(b,c){E.columns[v.colIdxFromName(a(c).prop("id"))].invisible=!0});var b=[];a("#"+z+"configDlg li").each(function(c,d){b.push(a(d).prop("id"))}),E.colorder=E.columns.map(function(a,c){return a.technical||a.mandatory?c:v.colIdxFromName(b.shift())}),E.saveState&&E.saveState(t.getStateAsJSON()),a("#"+z).ebtable(c,d,e)}};b(h)}),a(B+".firstBtn").button().on("click",function(){I=0,q(I)}),a(B+".backBtn").button().on("click",function(){I=Math.max(0,I-1),q(I)}),a(B+".nextBtn").button().on("click",function(){I=Math.min(I+1,H),q(I)}),a(B+".lastBtn").button().on("click",function(){I=H,q(I)}),a(B+"#clearFilterBtn").button().off().on("click",function(){a(B+"thead input[type=text]").val(""),y.filtering()}),a(B+" table tbody tr").off().on("click",function(){var b=G[I*E.rowsPerPage+a(this).index()];E.clickOnRowHandler(b,a(this))}),a(B+"#data input[type=checkbox]",B+"#data input[type=radio]").off().on("change",w.selectRows),r()}var t={getStateAsJSON:function(){return JSON.stringify({bodyWidth:a(B+".ebtable").width(),rowsPerPage:E.rowsPerPage,colorderByName:E.colorder.map(function(a){return E.columns[a].name}),invisibleColnames:E.columns.reduce(function(a,b){return b.invisible&&!b.technical&&a.push(b.name),a},[]),colwidths:a(B+"th").map(function(b,c){var d=a(c).prop("id"),e=a(c).width(),f=v.colNameFromId(d);v.log(a(c).prop("id"),e,f);var g={name:f,w:e};return g}).toArray().filter(function(a){return a.name})})},saveState:function(a){localStorage[C]=a},getState:function(){return localStorage[C]?JSON.parse(localStorage[C]):null},loadState:function(a){a&&(E.rowsPerPage=a.rowsPerPage,E.colorder=[],a.colorderByName.forEach(function(a){var b=v.colIdxFromName(a);b>=0&&E.colorder.push(b)}),E.columns.forEach(function(b,c){_.contains(a.colorderByName,b.name)||E.colorder.push(c)}),E.bodyWidth=a.bodyWidth,E.colwidths=a.colwidths,a.invisibleColnames.forEach(function(a){var b=v.colIdxFromName(a);b>=0&&(E.columns[b].invisible=!0)}))}},u={getSessionStateAsJSON:function(){return JSON.stringify({pageCur:I,sortcolname:E.sortcolname,sortState:E.columns.map(function(a){var b={};return b[a.name]=a.order,b}),filters:A.getFilterValues()})},saveSessionState:function(a){sessionStorage[C]=a||u.getSessionStateAsJSON()},loadSessionState:function(b){b=b||sessionStorage[C]?JSON.parse(sessionStorage[C]):null,b&&(E.pageCur=b.pageCur,E.sortcolname=b.sortcolname,E.columns.forEach(function(a){a.order=b.sortState[a.name]}),grid=a(B).ebtable(E,d,e),grid.setFilterValues(b.filters))}},v={translate:function(b){return a.fn.ebtable.lang[E.lang][b]||b},log:function(){c.debug&&console.log.apply(console,[].slice.call(arguments,0))},colIdxFromName:function(a){return _.findIndex(E.columns,function(b){return b.name===a})},colDefFromName:function(a){return _.findWhere(E.columns,{name:a})},colIdFromName:function(a){return v.colDefFromName(a).id},colNameFromId:function(a){return(_.findWhere(E.columns,{id:a})||{}).name},colIsInvisible:function(a){return v.colDefFromName(a).invisible},colIsTechnical:function(a){return v.colDefFromName(a).technical},getRender:function(a){return v.colDefFromName(a).render},getMatch:function(b){var c=v.colDefFromName(b).match;return c?_.isString(c)?a.fn.ebtable.matcher[c]:c:a.fn.ebtable.matcher["starts-with-matches"]},getVisibleCols:function(){return E.columns.filter(function(a){return!a.invisible})},checkConfig:function(){E.columns.forEach(function(a){a.technical=a.technical||!1,a.invisible=a.invisible||!1,a.mandatory=a.mandatory||!1,a.order=a.order||"asc"}),F[0]&&F[0].length!==E.columns.length&&(alert("Data definition and column definition don't match!"),localStorage[C]="",E=a.extend({},D,c));var b=localStorage[C];b&&b.colorder&&b.colorder.length!==E.columns.length&&(alert("Column definition and LocalStorage don't match!"),localStorage[C]="",E=a.extend({},D,c)),E.columns.forEach(function(a){a.technical&&!a.invisible&&alert(a.name+": technical column must be invisble!"),a.mandatory&&a.invisible&&alert(a.name+": mandatory column must be visble!")})}},w={selectRow:function(b,c,d){if(c){c.selected=d;var e=E.groupdefs,f=c[e.groupid];if(e&&f&&c[e.grouplabel]===e.grouphead){v.log("Groupheader "+(d?"selected!":"unselected!"),f,c[e.grouplabel]),F.getGroupRows(e,f).forEach(function(a){a.selected=d});for(var g=0;g<G.length;g++)G[g][e.groupid]===f&&a(B+"#check"+g).prop("checked",d)}else v.log("Row "+(d?"selected!":"unselected!"),b),a(B+"#check"+b).prop("checked",d);E.selectionCol&&E.selectionCol.onSelection&&E.selectionCol.onSelection(b,c,F)}},selectRows:function(b){v.log("selectRows",b);var c=a(b.target).prop("checked");if("checkAll"===b.target.id)G.forEach(function(a,b){w.selectRow(b,G[b],c)});else{E.selectionCol&&E.selectionCol.singleSelection&&G.forEach(function(a,b){a.selected&&w.selectRow(b,a,!1)});var d=b.target.id.replace("check","");w.selectRow(d,G[d],c),a(B+"#checkAll").prop("checked",!1)}},deselectAllRows:function(){E.selectionCol&&E.selectionCol.onSelection&&F.forEach(function(a,b){a.selected&&w.selectRow(b,a,!1)}),a(B+"#data input[type=checkbox]").prop("checked",!1),F.forEach(function(a){a.selected=!1})},iterateSelectedValues:function(a){G.filter(function(a){return a.selected}).forEach(a)},getSelectedRows:function(){return G.filter(function(a){return a.selected})},unselect:function(){G.forEach(function(a){a.selected=!1}),q(I)}},x={showSortingIndicators:function(){var b=v.colIdFromName(E.sortcolname),c=v.colIdxFromName(E.sortcolname),d=E.columns[c],e="asc"===d.order;a(B+"thead div span").removeClass(),a(B+"thead #"+b+" div span").addClass("ui-icon ui-icon-arrow-1-"+(e?"n":"s"))},getSortState:function(){var b=v.colIdxFromName(E.sortcolname),c=E.columns[b],d=a.extend([],c.sortmaster||E.sortmaster);return _(_(c.sortmaster).pluck("col")).indexOf(b)<0&&d.push({col:b,order:c.order}),d},sortToggle:function(){var a={desc:"asc",asc:"desc","desc-fix":"desc-fix","asc-fix":"asc-fix"};x.getSortState().forEach(function(b){E.columns[b.col].order=a[E.columns[b.col].order]||"asc"})},sorting:function(a){var b=a.currentTarget.id;b&&E.flags.withsorting&&(w.deselectAllRows(),E.sortcolname=v.colNameFromId(b),x.sortToggle(),E.hasMoreResults&&E.reloadData?E.reloadData():(x.doSort(),I=0,q(I)))},doSort:function(){if(E.sortcolname){x.showSortingIndicators();var b=v.colIdxFromName(E.sortcolname),c=E.columns[b],d=a.extend([],c.sortmaster?c.sortmaster:E.sortmaster);_(_(c.sortmaster).pluck("col")).indexOf(b)<0&&d.push({col:b,sortformat:c.sortformat,order:c.order}),d.forEach(function(a){a.order=E.columns[a.col].order||"desc"}),G=G.sort(G.rowCmpCols(d,F.groupsdata)),v.log("sorting",E.sortcolname)}}},y={getFilterValues:function(){var b={};return a(B+"thead th input[type=text],"+B+"thead th select").each(function(c,d){a.trim(a(d).val())&&(b[d.id]=a(d).val().trim())}),b},setFilterValues:function(b,c){return c=c||0,0===_.keys(b).length?this:(a(B+"thead th input[type=text],"+B+"thead th select").each(function(c,d){a(d).val(b[d.id])}),y.filterData(),H=Math.floor(Math.max(0,G.length-1)/E.rowsPerPage),I=c,q(I),this)},filterData:function(){var b=[];a(B+"thead th input[type=text],"+B+"thead th select").each(function(c,d){var e=a(d).val();if(e&&e.trim()){var f=a(d).attr("id"),g=v.colNameFromId(f),h=v.colIdxFromName(g),i=v.getRender(g),j=v.getMatch(g);b.push({col:h,searchtext:e.trim(),render:i,match:j})}}),G=mx(F.filterGroups(E.groupdefs,F.groupsdata)),G=mx(0===b.length?G:G.filterData(b)),H=Math.floor(Math.max(0,G.length-1)/E.rowsPerPage),x.doSort()},filtering:function(a){v.log("filtering",a),w.deselectAllRows(),y.filterData(),I=0,q(I)}},z=this[0].id,A=this,B="#"+z+" ",C="ebtable-"+a(document).prop("title").replace(" ","")+"-"+z+"-v1.0",D={columns:[],flags:{filter:!0,pagelenctrl:!0,config:!0,withsorting:!0,clearFilter:!1,colsResizable:!1,jqueryuiTooltips:!0},bodyHeight:Math.max(200,a(window).height()-100),bodyWidth:"",rowsPerPageSelectValues:[10,25,50,100],rowsPerPage:10,pageCur:0,colorder:_.range(c.columns.length),selectionCol:!1,saveState:t.saveState,loadState:t.loadState,getState:t.getState,sortmaster:[],groupdefs:{},hasMoreResults:e,clickOnRowHandler:function(a,b){},lang:"de"};c.flags=_.extend(D.flags,c.flags),c.saveState=c.saveState||c.flags.colsResizable,c.saveState="boolean"==typeof c.saveState&&c.saveState?t.saveState:c.saveState,c.colwidths=[];var E=a.extend({},D,c),F=mx(d,E.groupdefs),G=mx(F.slice()),H=Math.floor(Math.max(0,G.length-1)/E.rowsPerPage),I=Math.min(Math.max(0,E.pageCur),H);return v.checkConfig(),E.saveState&&E.getState&&E.loadState(E.getState()),E.columns.forEach(function(a){a.id=a.name.replace(/[^\d\w]/g,"")}),f(this),s(),this.util=v,a.extend(this,{getFilterValues:y.getFilterValues,setFilterValues:y.setFilterValues,iterateSelectedValues:w.iterateSelectedValues,getSelectedRows:w.getSelectedRows,unselect:w.unselect,saveSessionState:u.saveSessionState,loadSessionState:u.loadSessionState,toggleGroupIsOpen:function(a){F.groupsdata[a].isOpen=!F.groupsdata[a].isOpen,y.filterData(),I=Math.min(I,H),q(I)},groupIsOpen:function(a){return _.property("isOpen")(F.groupsdata[a])},setSortColname:function(a){E.sortcolname=a},getSortColname:function(){return E.sortcolname},getPageCur:function(){return I}}),E.flags.jqueryuiTooltips?this.tooltip():this},a.fn.ebtable.sortformats={"date-de":function(a){var b=a.match(/^(\d{2})\.(\d{2})\.(\d{4})$/);return b?b[3]+b[2]+b[1]:""},"datetime-de":function(a){var b=a.match(/^(\d{2})\.(\d{2})\.(\d{4}) (\d{2}):(\d{2})$/);return b?b[3]+b[2]+b[1]+b[4]+b[5]:""},"datetime-sec-de":function(a){var b=a.match(/^(\d{2})\.(\d{2})\.(\d{4}) (\d{2}):(\d{2}):(\d{2})$/);return b?b[3]+b[2]+b[1]+b[4]+b[5]+b[6]:""},scientific:function(a){return parseFloat(a)}},a.fn.ebtable.matcher={util:{getFormatedDate:function(a){var b=("0"+a.getDate()).slice(-2),c=("0"+(a.getMonth()+1)).slice(-2),d=a.getFullYear(),e=("0"+a.getHours()).slice(-2),f=("0"+a.getMinutes()).slice(-2),g=("0"+a.getSeconds()).slice(-2);return b+"."+c+"."+d+" "+e+":"+f+":"+g}},contains:function(a,b){return a.toLowerCase().indexOf(b.toLowerCase())>=0},"starts-with":function(a,b){return 0===a.toLowerCase().indexOf(b.toLowerCase())},matches:function(a,b){return a.match(new RegExp(".*"+b,"i"))},"starts-with-matches":function(a,b){return a.match(new RegExp("^"+b.replace(/\*/g,".*"),"i"))},"matches-date":function(b,c){return a.fn.ebtable.matcher.util.getFormatedDate(new Date(parseInt(b))).substr(10).indexOf(c)>=0},"matches-date-time":function(b,c){return a.fn.ebtable.matcher.util.getFormatedDate(new Date(parseInt(b))).substr(16).indexOf(c)>=0},"matches-date-time-sec":function(b,c){return a.fn.ebtable.matcher.util.getFormatedDate(new Date(parseInt(b))).indexOf(c)>=0}},a.fn.ebtable.lang={de:{},en:{"(<%=len%> Einträge insgesamt)":"(<%=len%> entries)","<%=start%> bis <%=end%> von <%=count%> Zeilen <%= filtered %>":"<%=start%> to <%=end%> of <%=count%> shown entries <%= filtered %>",Anpassen:"Configuration","Alle Filter entfernen":"Remove all filter",Abbrechen:"Cancel"}}}(jQuery),function(a){"use strict";a.fn.ebtextarea=function(b){var c=this[0].id,d={title:{text:"Test",fontSize:"12px",pos:"top"},counter:{fontSize:"8px",pos:"bottom"},nrRows:5,nrCols:30,maxByte:1e6},e=a.extend({},d,b),f=function(){var b=ebutils.byteCount(a("#"+c+" textarea").val());a("#"+c+" .ebtextareacnt").text("("+b+"/"+e.maxByte+")")},g="<div>"+("top"===e.title.pos?'<span class="ebtextareatitle">'+e.title.text+"&nbsp;&nbsp;</span>":"")+("top"===e.counter.pos?'<span class="ebtextareacnt"><span>':"")+"</div>",h="<div>"+("bottom"===e.title.pos?'<span class="ebtextareatitle">'+e.title.text+"&nbsp;&nbsp;</span>":"")+("bottom"===e.counter.pos?'<span class="ebtextareacnt"></span>':"")+"</div>",i=_.template('      <div class="ebtextarea">\n        <%=top%>\n        <textarea rows="<%=rows%>" cols="<%=cols%>"></textarea>\n        <%=bottom%>\n      </div>\n')({rows:e.nrRows,cols:e.nrCols,top:g,bottom:h});return a(this).html(i),a("#"+c+" textarea").on("keyup",function(){var b=a("#"+c+" textarea").val(),d=ebutils.byteCount(b);if(d>e.maxByte){for(a.alert("Warnung","Maximal erlaubte Textlänge erreicht.\nText wird abgeschnitten.");(d=ebutils.byteCount(b))>e.maxByte;)b=b.slice(0,-1);a(this).val(b)}f()}),f(),a("#"+c+" .ebtextareatitle").css("font-size",e.counter.fontSize),a("#"+c+" .ebtextareacnt").css("font-size",e.counter.fontSize),this.setTextAreaCounter=f,this}}(jQuery);var ebutils=function(){"use strict";function a(a,b){if(0===a)return"0 Byte";var c=1024,d=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.floor(Math.log(a)/Math.log(c));return(parseFloat((a/Math.pow(c,e)).toFixed(b||2))+" "+d[e]).replace(".",",")}function b(a){function b(a,b){b=b||0;var c=a.charCodeAt(b);if(55296<=c&&c<=56319){var d=c,e=a.charCodeAt(b+1);if(isNaN(e))throw"Kein gültiges Schriftzeichen oder Speicherfehler!";return 1024*(d-55296)+(e-56320)+65536}return!(56320<=c&&c<=57343)&&c}for(var c=0,d=0;d<a.length;d++){var e=b(a,d);"number"==typeof e&&(c+=e<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6)}return c}function c(a){var b={img:"image/jpeg",gif:"image/gif",png:"image/png",tif:"image/tif",tiff:"image/tiff",jpg:"image/jpg",jepg:"image/jepg",pdf:"application/pdf",txt:"text/plain",doc:"application/msword",xls:"application/msexcel",docx:"application/vnd.openxmlformats-officedocument"};return b[a]||"unknown"}return{byteCount:b,formatBytes:a,getMimeByExt:c}}();"undefined"!=typeof $&&$.extend({alert:function(a,b){b=b||"",$("<div id='dlgAlert'></div>").dialog({buttons:{Ok:function(){$(this).dialog("close")}},close:function(){$(this).remove()},title:a,modal:!0,closeText:"Schließen"}).html("<br>"+b.replace(/\n/g,"<br>"))}}),"undefined"!=typeof $&&$.extend({confirm:function(a,b,c,d){b=b||"",c=c||function(){console.log("$.confirm:please provide callback!")},$("<div id='dlgConfirm'></div>").dialog({buttons:{Ja:function(){c&&c(),$(this).dialog("close")},Nein:function(){d&&d(),$(this).dialog("close")}},close:function(){$(this).remove()},title:a,modal:!0,closeText:"Schließen"}).html("<br>"+b.replace(/\n/g,"<br>"))}});var mx=function(a,b){var c={zero:function(){return a.fill(0)},row:function(b){return a[b]},rows:function(b){return a.filter(function(c,d){return _.isFunction(b)?b(a[c]):_.indexOf(b,d)>=0})},withoutRows:function(b){return a.filter(function(a,c){return _.isFunction(b)?!b(a):_.indexOf(b,c)<0})},col:function(b){return _.range(a.length).map(function(c){return a[c][b]})},cols:function(b){for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=[],g=0;g<e.length;g++)_.indexOf(b,g)>=0&&f.push(e[g]);c.push(f)}return c},withoutCols:function(b){for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=[],g=0;g<e.length;g++)_.indexOf(b,g)<0&&f.push(e[g]);c.push(f)}return c}},d=function(){var b={rowMatch:function(b){return function(c){b=_.isArray(b)?b:[b];for(var d=!0,e=0;e<b.length&&d;e++){var f=b[e],g=$.trim(c[f.col]),h=f.match||$.fn.ebtable.matcher["starts-with-matches"];d=d&&h(g,f.searchtext,c,a)}return d}},filterData:function(a){return this.filter(b.rowMatch(a))}};return{filterData:b.filterData}}(),e=function(){var a={normalizeGroupId:function(a){return a<=0?0:a},isGroupingHeader:function(a,b){return a[b.grouplabel]===b.grouphead},initGroups:function(b){if(b.groupid){for(var c,d,e=this.groupsdata||{},f=0;f<this.length;f++)c=this[f],d=a.normalizeGroupId(c[b.groupid]),c.isGroupHeader=c[b.grouplabel]===b.grouphead,c.isGroupElement=d&&!c.isGroupHeader,d&&!e[d]&&(e[d]={isOpen:!1,groupname:$.trim(c[b.groupname])});for(f=0;f<this.length;f++)c=this[f],d=a.normalizeGroupId(c[b.groupid]),c[b.groupsortstring]=d?e[d].groupname+" "+d:c[b.groupname];return this.groupsdata=e,this}},filterGroups:function(b,c){var d=_.filter(this,function(d){var e=a.normalizeGroupId(d[b.groupid]);return!e||a.isGroupingHeader(d,b)||c[e].isOpen});return d.groupsdata=this.groupsdata,d},getGroupRows:function(a,b){return _.filter(this,function(c){return c[a.groupid]===b})}};return{initGroups:a.initGroups,filterGroups:a.filterGroups,getGroupRows:a.getGroupRows}}(),f=function(){var a={toLower:function(a){return _.isString(a)?a.toLowerCase():a},prepareItem:function(b,c,d,e,f){var g=b[c]||"";return a.toLower(d?d(g,b,e,f):g)},rowCmpCols:function(b,c){return b=_.isArray(b)?b:[b],function(d,e){for(var f=0;f<b.length;f++){var g=b[f],h=g.sortformat?$.fn.ebtable.sortformats[g.sortformat]:void 0,i=a.prepareItem(d,g.col,h,c,g.order),j=a.prepareItem(e,g.col,h,c,g.order),k=i<j?-1:i>j?1:0;if(0!==k){var l=!g.order||g.order.indexOf("desc")<0;return l?k:-k}}return 0}}};return{rowCmpCols:a.rowCmpCols}}(),g=(function(){var a=0,b=10,c=Math.floor((this.length-1)/b),d={setPageSize:function(d){a=0,b=d,c=Math.floor((this.length-1)/d)},getCurPageData:function(){var c=b*a;return this.rows(_.range(c,c+b))}};return{pageFirst:function(){a=0},pagePrev:function(){a=Math.max(0,a-1)},pageNext:function(){a=Math.min(a+1,c)},pageLast:function(){a=c},setPageSize:d.setPageSize,getCurPageData:d.getCurPageData}}(),_.extend(a,c,f,d,e));return b&&g.initGroups(b),g};